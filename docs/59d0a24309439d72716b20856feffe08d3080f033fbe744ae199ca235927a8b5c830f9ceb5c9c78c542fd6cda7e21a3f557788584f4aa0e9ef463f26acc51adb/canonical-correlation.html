<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 7 Canonical Correlation | MULTIVARIATE DATA ANALYSIS TOOLS FOR AGRICULTURAL RESEARCH</title>
<meta name="author" content="Dr. PRATHEESH P GOPINATH">
<meta name="description" content="Canonical correlation analysis (CCA) is a multivariate statistical technique that explores the relationships between two sets of variables (X and Y) that are measured on the same set of...">
<meta name="generator" content="bookdown 0.36 with bs4_book()">
<meta property="og:title" content="Chapter 7 Canonical Correlation | MULTIVARIATE DATA ANALYSIS TOOLS FOR AGRICULTURAL RESEARCH">
<meta property="og:type" content="book">
<meta property="og:image" content="/images/cover.PNG">
<meta property="og:description" content="Canonical correlation analysis (CCA) is a multivariate statistical technique that explores the relationships between two sets of variables (X and Y) that are measured on the same set of...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 7 Canonical Correlation | MULTIVARIATE DATA ANALYSIS TOOLS FOR AGRICULTURAL RESEARCH">
<meta name="twitter:description" content="Canonical correlation analysis (CCA) is a multivariate statistical technique that explores the relationships between two sets of variables (X and Y) that are measured on the same set of...">
<meta name="twitter:image" content="/images/cover.PNG">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.5.1/transition.js"></script><script src="libs/bs3compat-0.5.1/tabs.js"></script><script src="libs/bs3compat-0.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.29/datatables.js"></script><link href="libs/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.13.4/js/jquery.dataTables.min.js"></script><link href="libs/dt-ext-buttons-1.13.4/css/buttons.dataTables.min.css" rel="stylesheet">
<script src="libs/dt-ext-buttons-1.13.4/js/dataTables.buttons.min.js"></script><script src="libs/dt-ext-buttons-1.13.4/js/buttons.html5.min.js"></script><script src="libs/dt-ext-buttons-1.13.4/js/buttons.colVis.min.js"></script><script src="libs/dt-ext-buttons-1.13.4/js/buttons.print.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">MULTIVARIATE DATA ANALYSIS TOOLS FOR AGRICULTURAL RESEARCH</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="" href="preface.html">Preface</a></li>
<li><a class="" href="r-and-r-studio.html"><span class="header-section-number">1</span> R and R studio</a></li>
<li><a class="" href="import.html"><span class="header-section-number">2</span> Importing data files in R</a></li>
<li><a class="" href="principal-component-analysis-pca.html"><span class="header-section-number">3</span> Principal Component Analysis (PCA)</a></li>
<li><a class="" href="exploratory-factor-analysis.html"><span class="header-section-number">4</span> Exploratory Factor Analysis</a></li>
<li><a class="" href="cluster-analysis.html"><span class="header-section-number">5</span> Cluster Analysis</a></li>
<li><a class="" href="logistic-regression.html"><span class="header-section-number">6</span> Logistic Regression</a></li>
<li><a class="active" href="canonical-correlation.html"><span class="header-section-number">7</span> Canonical Correlation</a></li>
<li><a class="" href="manova.html"><span class="header-section-number">8</span> MANOVA</a></li>
<li><a class="" href="references.html"><span class="header-section-number">9</span> References</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="canonical-correlation" class="section level1" number="7">
<h1>
<span class="header-section-number">7</span> Canonical Correlation<a class="anchor" aria-label="anchor" href="#canonical-correlation"><i class="fas fa-link"></i></a>
</h1>
<p>Canonical correlation analysis (CCA) is a multivariate statistical technique that explores the relationships between two sets of variables (X and Y) that are measured on the same set of individuals or observations.</p>
<p>Canonical correlation analysis was first introduced by the American statistician and psychologist Harold Hotelling in the early 1930s. Hotelling’s seminal work on this technique was published in the article “Relations between two sets of variates” in 1936.<span class="citation">(<a href="references.html#ref-hot1936">Hotelling 1936</a>)</span></p>
<p>CCA is used to identify and quantify the associations between these two sets of variables, providing insights into how they are related, and it aims to find linear combinations of the variables (canonical variates) in each set that are maximally correlated with each other.</p>
<p>The canonical variates are designed to capture the most significant relationships or patterns between the two sets of variables. These linear combinations are used to understand and quantify the associations between the two sets.<br>
Here’s how canonical variates are typically defined:
For Set X:</p>
<p><span class="math display">\[U_1 = a_{11}X_1 + a_{12}X_2 + \ldots + a_{1p}X_p\]</span></p>
<p><span class="math display">\[U_2 = a_{21}X_1 + a_{22}X_2 + \ldots + a_{2p}X_p\]</span></p>
<p>For Set Y:</p>
<p><span class="math display">\[V_1 = b_{11}Y_1 + b_{12}Y_2 + \ldots + b_{1q}Y_q\]</span></p>
<p><span class="math display">\[V_2 = b_{21}Y_1 + b_{22}Y_2 + \ldots + b_{2q}Y_q\]</span></p>
<p>In these equations, U₁ and U₂ are canonical variates derived from Set X, while V₁ and V₂ are canonical variates derived from Set Y. The coefficients (a’s and b’s) are calculated such that the correlation between U₁ and V₁ (the first canonical pair) is maximized, and similarly for U₂ and V₂ (the second canonical pair), and so on. The canonical variables within each set are orthogonal to each other, meaning they are uncorrelated. This orthogonality simplifies the interpretation of the results.</p>
<p>Canonical Correlation Analysis allows us to summarize the relationships into fewer statistics while preserving the main facets of the relationships. In a way, the motivation for canonical correlation is very similar to principal component analysis. It is another dimension-reduction technique.</p>
<p>We select X and Y based on the number of variables in each set so that <span class="math inline">\(p \leq q\)</span>. There will be p canonical correlations.</p>
<div id="canonical-correlation-in-r" class="section level2" number="7.1">
<h2>
<span class="header-section-number">7.1</span> Canonical Correlation in R<a class="anchor" aria-label="anchor" href="#canonical-correlation-in-r"><i class="fas fa-link"></i></a>
</h2>
<p>packages required for the analysis are<code>CCA</code> and <code>CCP</code>.<br><strong>Install the required packages</strong>:</p>
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install required pacakges</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"CCA"</span>,<span class="st">"CCP"</span>,<span class="op">)</span><span class="op">)</span>  </span></code></pre></div>
</div>
<div id="practical-examople" class="section level2" number="7.2">
<h2>
<span class="header-section-number">7.2</span> Practical Examople<a class="anchor" aria-label="anchor" href="#practical-examople"><i class="fas fa-link"></i></a>
</h2>
<p>The example data comes from a firm that surveyed a random sample of n = 50 of its employees in an attempt to determine which factors influence sales performance. Two collections of variables were measured:</p>
<p><strong>Sales Performance:</strong></p>
<ul>
<li><p>Sales Growth</p></li>
<li><p>Sales Profitability</p></li>
<li><p>New Account Sales</p></li>
</ul>
<p><strong>Test Scores as a Measure of Intelligence:</strong></p>
<ul>
<li><p>Creativity</p></li>
<li><p>Mechanical Reasoning</p></li>
<li><p>Abstract Reasoning</p></li>
<li><p>Mathematics</p></li>
</ul>
<p>There are p = 3 variables in the first group relating to Sales Performance and q = 4 variables in the second group relating to Test Scores. There will be 3 canonical correlations.</p>
<p>You can view and download the data below.</p>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-b637a4737cbab3d25259" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-b637a4737cbab3d25259">{"x":{"filter":"none","vertical":false,"extensions":["Buttons"],"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],[93,88.8,95,101.3,102,95.8,95.5,110.8,102.8,106.8,103.3,99.5,103.5,99.5,100,81.5,101.3,103.3,95.3,99.5,88.5,99.3,87.5,105.3,107,93.3,106.8,106.8,92.3,106.3,106,88.3,96,94.3,106.5,106.5,92,102,108.3,106.8,102.5,92.5,102.8,83.3,94.8,103.5,89.5,84.3,104.3,106],[96,91.8,100.3,103.8,107.8,97.5,99.5,122,108.3,120.5,109.8,111.8,112.5,105.5,107,93.5,105.3,110.8,104.3,105.3,95.3,115,92.5,114,121,102,118,120,90.8,121,119.5,92.8,103.3,94.5,121.5,115.5,99.5,99.8,122.3,119,109.3,102.5,113.8,87.3,101.8,112,96,89.8,109.5,118.5],[97.8,96.8,99,106.8,103,99.3,99,115.3,103.8,102,104,100.3,107,102.3,102.8,95,102.8,103.5,103,106.3,95.8,104.3,95.8,105.3,109,97.8,107.3,104.8,99.8,104.5,110.5,96.8,100.5,99,110.5,107,103.5,103.3,108.5,106.8,103.8,99.3,106.8,96.3,99.8,110.8,97.3,94.3,106.5,105],[9,7,8,13,10,10,9,18,10,14,12,10,16,8,13,7,11,11,5,17,10,5,9,12,16,10,14,10,8,9,18,13,7,10,18,8,18,13,15,14,9,13,17,1,7,18,7,8,14,12],[12,10,12,14,15,14,12,20,17,18,17,18,17,10,10,9,12,14,14,17,12,11,9,15,19,15,16,16,10,17,15,11,15,12,17,13,16,12,19,20,17,15,20,5,16,13,15,8,12,16],[9,10,9,12,12,11,9,15,13,11,12,8,11,11,8,5,11,11,13,11,7,11,7,12,12,7,12,11,13,11,10,8,11,11,10,14,8,14,12,12,13,6,10,9,11,12,11,8,12,11],[20,15,26,29,32,21,25,51,31,39,32,31,34,34,34,16,32,35,30,27,15,42,16,37,39,23,39,49,17,44,43,10,27,19,42,47,18,28,41,37,32,23,32,15,24,37,14,9,36,39]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>growth<\/th>\n      <th>profit<\/th>\n      <th>new<\/th>\n      <th>create<\/th>\n      <th>mech<\/th>\n      <th>abs<\/th>\n      <th>math<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"Bfrtip","buttons":[{"extend":"csv","text":"Download CSV ⬇","filename":"data"}],"searching":false,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="dataset-import-1" class="section level2" number="7.3">
<h2>
<span class="header-section-number">7.3</span> Dataset import<a class="anchor" aria-label="anchor" href="#dataset-import-1"><i class="fas fa-link"></i></a>
</h2>
<p>First prepare your data set similar to above and save it as a csv file. Then import the data set in to R. See chapter <a href="import.html#import">2</a>to know how to save a csv file and import it to R. Also you can directly use the code below to import dataset from your computer to R.</p>
<div class="sourceCode" id="cb86"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"path to your file"</span><span class="op">)</span></span>
<span><span class="co">#your file will be saved in the name data</span></span></code></pre></div>
<p>Please note the path copied from your system will be in the format <code>C:\Users\HP\Documents\</code>, change it to this format <code>C:/Users/HP/Documents/</code> in R.</p>
<div id="analysis-2" class="section level3" number="7.3.1">
<h3>
<span class="header-section-number">7.3.1</span> Analysis<a class="anchor" aria-label="anchor" href="#analysis-2"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Define X and Y in your data  </span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/attach.html">attach</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span><span class="va">sp</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"growth"</span>, <span class="st">"profit"</span>, <span class="st">"new"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">ts</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"create"</span>, <span class="st">"mech"</span>, <span class="st">"abs"</span>, <span class="st">"math"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<div id="testing-hypothesis" class="section level4" number="7.3.1.1">
<h4>
<span class="header-section-number">7.3.1.1</span> Testing Hypothesis<a class="anchor" aria-label="anchor" href="#testing-hypothesis"><i class="fas fa-link"></i></a>
</h4>
<p>Testing the null hypothesis that all p canonical variate pairs are uncorrelated . Following hypothesis are tested.<br>
H0: <span class="math inline">\(\rho_1 = \rho_2 = \rho_3 = 0\)</span>
H0: <span class="math inline">\(\rho_2 = \rho_3 = 0\)</span><br>
H0: <span class="math inline">\(rho_3 = 0\)</span></p>
<div class="sourceCode" id="cb88"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculate the number of rows (observations) in the 'sp' dataset and store it in 'n'.</span></span>
<span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">sp</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="co"># Calculate the number of columns (variables) in the 'sp' dataset and store it in 'p'.</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">sp</span><span class="op">)</span></span>
<span><span class="co"># Calculate the number of columns (variables) in the 'ts' dataset and store it in 'q'.</span></span>
<span><span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">ts</span><span class="op">)</span></span>
<span><span class="co">#testing hypothesis</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">CCA</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">CCP</span><span class="op">)</span></span>
<span><span class="va">cc1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/CCA/man/cc.html">cc</a></span><span class="op">(</span><span class="va">sp</span>, <span class="va">ts</span><span class="op">)</span></span>
<span><span class="va">rho</span> <span class="op">&lt;-</span> <span class="va">cc1</span><span class="op">$</span><span class="va">cor</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/CCP/man/p.asym.html">p.asym</a></span><span class="op">(</span><span class="va">rho</span>, <span class="va">n</span>, <span class="va">p</span>, <span class="va">q</span>, tstat <span class="op">=</span> <span class="st">"Wilks"</span><span class="op">)</span></span></code></pre></div>
<pre><code>## Wilks' Lambda, using F-approximation (Rao's F):
##                 stat    approx df1      df2      p.value
## 1 to 3:  0.002148472 87.391525  12 114.0588 0.000000e+00
## 2 to 3:  0.195241267 18.526265   6  88.0000 8.248957e-14
## 3 to 3:  0.852846693  3.882233   2  45.0000 2.783536e-02</code></pre>
<p>Here Wilks’ Lambda is used as a test statistic for assessing the significance of the canonical correlations. The extremely low p-value (essentially zero) suggests that there is strong evidence to reject all the above three null hypothesis.</p>
<p>All three canonical variate pairs are significantly correlated and dependent on one another. This suggests that we may summarize all three pairs. In practice, these tests are carried out successively until you find a non-significant result. Once a non-significant result is found, you stop. If this happens with the first canonical variate pair, then there is not sufficient evidence of any relationship between the two sets of variables and the analysis may stop.</p>
<p>If the first pair shows significance, then you move on to the second canonical variate pair. If this second pair is not significantly correlated then stop. If it was significant you would continue to the third pair, proceeding in this iterative manner through the pairs of canonical variates testing until you find non-significant results.</p>
<div class="sourceCode" id="cb90"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># correlations using the matcor function from the CCA package</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">CCA</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">CCP</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/CCA/man/matcor.html">matcor</a></span><span class="op">(</span><span class="va">sp</span>, <span class="va">ts</span><span class="op">)</span></span></code></pre></div>
<pre><code>## $Xcor
##           growth    profit       new
## growth 1.0000000 0.9260758 0.8840023
## profit 0.9260758 1.0000000 0.8425232
## new    0.8840023 0.8425232 1.0000000
## 
## $Ycor
##           create      mech       abs      math
## create 1.0000000 0.5907360 0.1469074 0.4126395
## mech   0.5907360 1.0000000 0.3859502 0.5745533
## abs    0.1469074 0.3859502 1.0000000 0.5663721
## math   0.4126395 0.5745533 0.5663721 1.0000000
## 
## $XYcor
##           growth    profit       new    create      mech       abs      math
## growth 1.0000000 0.9260758 0.8840023 0.5720363 0.7080738 0.6744073 0.9273116
## profit 0.9260758 1.0000000 0.8425232 0.5415080 0.7459097 0.4653880 0.9442960
## new    0.8840023 0.8425232 1.0000000 0.7003630 0.6374712 0.6410886 0.8525682
## create 0.5720363 0.5415080 0.7003630 1.0000000 0.5907360 0.1469074 0.4126395
## mech   0.7080738 0.7459097 0.6374712 0.5907360 1.0000000 0.3859502 0.5745533
## abs    0.6744073 0.4653880 0.6410886 0.1469074 0.3859502 1.0000000 0.5663721
## math   0.9273116 0.9442960 0.8525682 0.4126395 0.5745533 0.5663721 1.0000000</code></pre>
<div class="sourceCode" id="cb92"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># canonical correlation</span></span>
<span><span class="va">cc1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/CCA/man/cc.html">cc</a></span><span class="op">(</span><span class="va">sp</span>, <span class="va">ts</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="canonical-correlations" class="section level4" number="7.3.1.2">
<h4>
<span class="header-section-number">7.3.1.2</span> Canonical correlations<a class="anchor" aria-label="anchor" href="#canonical-correlations"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># display the canonical correlations</span></span>
<span><span class="va">cc1</span><span class="op">$</span><span class="va">cor</span></span></code></pre></div>
<pre><code>## [1] 0.9944827 0.8781065 0.3836057</code></pre>
<p>These are the correlations between canonical variates (<span class="math inline">\(U_1\)</span>, <span class="math inline">\(V_1\)</span>), (<span class="math inline">\(U_2\)</span>, <span class="math inline">\(V_2\)</span>), and (<span class="math inline">\(U_3\)</span>, <span class="math inline">\(V_3\)</span>) respectively.</p>
</div>
<div id="raw-canonical-coefficients" class="section level4" number="7.3.1.3">
<h4>
<span class="header-section-number">7.3.1.3</span> Raw canonical coefficients<a class="anchor" aria-label="anchor" href="#raw-canonical-coefficients"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb95"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># raw canonical coefficients</span></span>
<span><span class="va">cc1</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span></span></code></pre></div>
<pre><code>## $xcoef
##               [,1]       [,2]       [,3]
## growth -0.06237788 -0.1740703  0.3771529
## profit -0.02092564  0.2421641 -0.1035150
## new    -0.07825817 -0.2382940 -0.3834151
## 
## $ycoef
##               [,1]        [,2]        [,3]
## create -0.06974814 -0.19239132 -0.24655659
## mech   -0.03073830  0.20157438  0.14189528
## abs    -0.08956418 -0.49576326  0.28022405
## math   -0.06282997  0.06831607 -0.01133259</code></pre>
<p>The raw canonical coefficients are interpreted in a manner analogous to interpreting regression coefficients i.e., for the variable growth, a one unit increase in growth leads to a 0.062 decrease in the first canonical variate of set 1. when all of the other variables are held constant.</p>
</div>
</div>
<div id="canonical-loadings" class="section level3" number="7.3.2">
<h3>
<span class="header-section-number">7.3.2</span> Canonical Loadings<a class="anchor" aria-label="anchor" href="#canonical-loadings"><i class="fas fa-link"></i></a>
</h3>
<p>Canonical loadings, also known as structure coefficients, are a fundamental concept in canonical correlation analysis (CCA). They measure the simple linear correlation between an original observed variable (from Set X or Set Y) and the corresponding canonical variate in the respective set. Canonical loadings provide insight into how each variable contributes to the canonical relationship and help identify the most influential variables in each set with respect to the canonical variates.</p>
<p><strong>Correlations Between the Sales Variables and Their Canonical Variables</strong></p>
<div class="sourceCode" id="cb97"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># compute canonical loadings</span></span>
<span><span class="va">cc2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/CCA/man/comput.html">comput</a></span><span class="op">(</span><span class="va">sp</span>, <span class="va">ts</span>, <span class="va">cc1</span><span class="op">)</span>  </span>
<span><span class="va">cc2</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span>  </span></code></pre></div>
<pre><code>## $corr.X.xscores
##              [,1]          [,2]         [,3]
## growth -0.9798776  0.0006477883  0.199598477
## profit -0.9464085  0.3228847489 -0.007504408
## new    -0.9518620 -0.1863009724 -0.243414776</code></pre>
<p>Analyzing the first canonical variable related to sales, we observe uniformly strong negative correlations across all variables. Consequently, this initial canonical variate can be regarded as a comprehensive gauge of Sales Performance. On the other hand, the second canonical variable associated with Sales Performance displays no notably strong correlations, thus offering limited insights into the data. we opted not to explore the third canonical variate pairs.</p>
<p>A parallel interpretation can be applied to the Test Scores.<br><strong>Correlations Between the test Variables and Their Canonical Variables</strong></p>
<div class="sourceCode" id="cb99"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># compute canonical loadings for test scores</span></span>
<span><span class="va">cc2</span><span class="op">[</span><span class="fl">6</span><span class="op">]</span>  </span></code></pre></div>
<pre><code>## $corr.Y.yscores
##              [,1]       [,2]        [,3]
## create -0.6383313 -0.2156981 -0.65140953
## mech   -0.7211626  0.2375644  0.06773775
## abs    -0.6472493 -0.5013329  0.57422365
## math   -0.9440859  0.1975329  0.09422619</code></pre>
<p>Because all correlations are large (negative) for the first canonical variable, this can be thought of as an overall measure of test performance as well, however, it is most strongly correlated with mathematics test scores. Most of the correlations with the second canonical variable are small. There is some suggestion that this variable may be negatively correlated with abstract reasoning.<br>
we see that the best predictor of sales performance is mathematics test scores as this indicator stands out the most.</p>
<p>we can confirm it by further analysis.</p>
<p><strong>Correlations Between the Sales Variables and the Canonical Variables of the Test Scores</strong></p>
<div class="sourceCode" id="cb101"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># compute canonical loadings for test scores</span></span>
<span><span class="va">cc2</span><span class="op">[</span><span class="fl">5</span><span class="op">]</span>  </span></code></pre></div>
<pre><code>## $corr.X.yscores
##              [,1]          [,2]         [,3]
## growth -0.9744713  0.0005688272  0.076567107
## profit -0.9411869  0.2835272081 -0.002878734
## new    -0.9466102 -0.1635921013 -0.093375287</code></pre>
<p>We can see that all three of these correlations are strong and show a pattern similar to that with the canonical variate for sales. The reason for this is obvious: The first canonical correlation is very high.</p>
<p><strong>Correlations Between the Test Scores and the Canonical Variables of the Sales Variables</strong></p>
<div class="sourceCode" id="cb103"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># compute canonical loadings for test scores</span></span>
<span><span class="va">cc2</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span>  </span></code></pre></div>
<pre><code>## $corr.Y.xscores
##              [,1]       [,2]        [,3]
## create -0.6348095 -0.1894059 -0.24988439
## mech   -0.7171837  0.2086069  0.02598458
## abs    -0.6436782 -0.4402237  0.22027544
## math   -0.9388771  0.1734549  0.03614570</code></pre>
<p>These also show a pattern similar to that with the canonical variate for test scores. Again, this is because the first canonical correlation is very high.</p>
</div>
</div>
<div id="do-canonical-correlation-in-our-inbuilt-app" class="section level2" number="7.4">
<h2>
<span class="header-section-number">7.4</span> Do Canonical Correlation in our inbuilt app<a class="anchor" aria-label="anchor" href="#do-canonical-correlation-in-our-inbuilt-app"><i class="fas fa-link"></i></a>
</h2>
<p>Good news!
We have added an app so that you can simply upload your csv here and get all these results by running in our cloud server!.</p>
<button id="toggle-button">Open</button>
<div id="embedded-url" style="display: none;">
  <iframe src="https://agstatkau.shinyapps.io/grapesCancor/" width="100%" height="400px" data-external="1"></iframe>
</div>
<script>
var isOpen = false;
document.getElementById("toggle-button").addEventListener("click", function() {
  if (isOpen) {
    document.getElementById("embedded-url").style.display = "none";
    document.getElementById("toggle-button").textContent = "Open";
  } else {
    document.getElementById("embedded-url").style.display = "block";
    document.getElementById("toggle-button").textContent = "Close";
  }
  isOpen = !isOpen;
});
</script>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="logistic-regression.html"><span class="header-section-number">6</span> Logistic Regression</a></div>
<div class="next"><a href="manova.html"><span class="header-section-number">8</span> MANOVA</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#canonical-correlation"><span class="header-section-number">7</span> Canonical Correlation</a></li>
<li><a class="nav-link" href="#canonical-correlation-in-r"><span class="header-section-number">7.1</span> Canonical Correlation in R</a></li>
<li><a class="nav-link" href="#practical-examople"><span class="header-section-number">7.2</span> Practical Examople</a></li>
<li>
<a class="nav-link" href="#dataset-import-1"><span class="header-section-number">7.3</span> Dataset import</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#analysis-2"><span class="header-section-number">7.3.1</span> Analysis</a></li>
<li><a class="nav-link" href="#canonical-loadings"><span class="header-section-number">7.3.2</span> Canonical Loadings</a></li>
</ul>
</li>
<li><a class="nav-link" href="#do-canonical-correlation-in-our-inbuilt-app"><span class="header-section-number">7.4</span> Do Canonical Correlation in our inbuilt app</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>MULTIVARIATE DATA ANALYSIS TOOLS FOR AGRICULTURAL RESEARCH</strong>" was written by Dr. PRATHEESH P GOPINATH. It was last built on 2023-10-20.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
